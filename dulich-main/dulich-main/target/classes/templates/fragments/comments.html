<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
</head>
<body>
    <!-- Hot Comments Fragment -->
    <section th:fragment="hot-comments(comments)" class="ftco-section testimony-section bg-bottom" style="background-image: url('/page/images/bg_1.jpg');">
        <div class="overlay"></div>
        <div class="container">
            <div class="row justify-content-center pb-4">
                <div class="col-md-7 text-center heading-section heading-section-white ftco-animate">
                    <span class="subheading">Danh sách</span>
                    <h2 class="mb-4">Bình luận nổi bật</h2>
                </div>
            </div>
            <div class="row ftco-animate">
                <div class="col-md-12">
                    <div class="carousel-testimony owl-carousel">
                        <div th:if="${comments != null and !comments.empty}">
                            <div th:each="comment : ${comments}" class="item">
                                <div class="testimony-wrap py-4">
                                    <div class="text item-comment">
                                        <p class="mb-4" th:text="${#strings.abbreviate(comment.content, 150)}"></p>
                                        <div class="d-flex align-items-center">                                            <div class="user-img" 
                                                 th:style="'background-image: url(/page/images/person_1.jpg)'"></div>
                                            <div class="pl-3">
                                                <p class="name" th:text="${comment.user != null ? comment.user.fullName : 'Anonymous'}"></p>
                                                <span class="position">Thành viên</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div th:if="${comments == null or comments.empty}" class="item">
                            <div class="testimony-wrap py-4">
                                <div class="text item-comment text-center">
                                    <p class="mb-4">Chưa có bình luận nào.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</body>
</html>
